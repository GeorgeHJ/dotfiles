#! /bin/zsh
# Apply my powerlevel9k/10k settings
powerlevel9k(){
case $TERM in
	screen* | tmux* | xterm* | wezterm | foot | kitty)
		POWERLEVEL9K_MODE='nerdfont-complete'
		;;
	gvim*)
		POWERLEVEL9K_MODE='default'
		;;
esac
# Custom distrobox segment
#
function prompt_distrobox()
{
	[[ -z $CONTAINER_ID ]] && return

	local distrobox_icon="ï’· "
	local id=$CONTAINER_ID

	p10k segment -i $distrobox_icon -f black -b blue -t $id
}


##{{{ Segment Settings
POWERLEVEL9K_STATUS_VERBOSE="false"
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(distrobox os_icon context dir dir_writable vcs virtualenv status)
POWERLEVEL9K_DISABLE_RPROMPT=true
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(vi_mode)
POWERLEVEL9K_CONTEXT_TEMPLATE='%B%n%b'
##}}}

##{{{ OS Icon Settings
local unamea=$(uname -a)
case $unamea in
	*MANJARO*|*Android*)
		POWERLEVEL9K_OS_ICON_FOREGROUND="green";;
	*ARCH*|*arch*)
		POWERLEVEL9K_OS_ICON_FOREGROUND="blue";;
	*DEBIAN*|*WSL*)
		POWERLEVEL9K_OS_ICON_FOREGROUND="red";;
esac
##}}}

##{{{ Segment Colours
POWERLEVEL9K_CONTEXT_DEFAULT_FOREGROUND="black"
POWERLEVEL9K_CONTEXT_DEFAULT_BACKGROUND="5"
POWERLEVEL9K_CONTEXT_REMOTE_FOREGROUND="black"
POWERLEVEL9K_CONTEXT_REMOTE_BACKGROUND="cyan"
POWERLEVEL9K_ALWAYS_SHOW_USER="true"
POWERLEVEL9K_USER_DEFAULT_FOREGROUND="black"
POWERLEVEL9K_USER_DEFAULT_BACKGROUND="blue"
POWERLEVEL9K_DIR_PATH_HIGHLIGHT_BOLD="true"
POWERLEVEL9K_DIR_HOME_FOREGROUND="black"
POWERLEVEL9K_DIR_HOME_BACKGROUND="cyan"
POWERLEVEL9K_DIR_HOME_SUBFOLDER_FOREGROUND="black"
POWERLEVEL9K_DIR_HOME_SUBFOLDER_BACKGROUND="cyan"
POWERLEVEL9K_DIR_DEFAULT_FOREGROUND="15"
POWERLEVEL9K_DIR_DEFAULT_BACKGROUND="10"
POWERLEVEL9K_DIR_ETC_FOREGROUND="15"
POWERLEVEL9K_DIR_ETC_BACKGROUND="10"
POWERLEVEL9K_VI_MODE_NORMAL_FOREGROUND="15"
POWERLEVEL9K_VI_MODE_NORMAL_BACKGROUND="10"
POWERLEVEL9K_VI_MODE_INSERT_FOREGROUND="15"
POWERLEVEL9K_VI_MODE_INSERT_BACKGROUND="yellow"
POWERLEVEL9K_VIRTUALENV_FOREGROUND="blue"
POWERLEVEL9K_VIRTUALENV_BACKGROUND="white"
##}}}

unfunction powerlevel9k
}
